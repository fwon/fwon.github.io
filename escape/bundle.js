!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="http://localhost:3000/",e(0)}([function(t,e,n){t.exports=n(4)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){n(this,t)}return i(t,[{key:"init",value:function(t){this.canvas=t.canvas,this.ctx=this.canvas.getContext("2d"),this.width=t.width,this.height=t.height}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.width,this.height)}},{key:"render",value:function(){this.clear(),this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.width,this.height)}}]),t}();e["default"]=new r,t.exports=e["default"]},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function r(t){n(this,r),t&&(this.x=t.x||1,this.y=t.y||1,this.radius=t.radius,this.color=t.color)};e["default"]=i,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,n=a,i=!0,s=u=void 0}},l=n(1),u=i(l),c=n(2),d=i(c),h=function(t){function e(t){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.radius=2*Math.random()+3,this.color="red",this.vx=0,this.vy=0,this.speed=t.speed||1*Math.random()+.5,this.type=t.type||"normal",this.ratio=window.innerHeight/window.innerWidth}return o(e,t),a(e,[{key:"update",value:function(){this.x-=this.speed,this.y+=this.speed,this.x<-10&&(this.x=u["default"].width+10+30*Math.random()),this.y>u["default"].height+10&&(this.y=-10+Math.random()*-30)}},{key:"speedUp",value:function(t){this.speed+=t||.2}},{key:"speedDown",value:function(t){var e=t||.8;this.speed>e&&(this.speed-=e)}},{key:"minimize",value:function(t){var e=t||2;this.radius>e&&(this.radius-=e)}},{key:"magnify",value:function(t){this.radius+=t||2}},{key:"escape",value:function(t){var e=1/30,n=Math.atan2(this.y-t.y,this.x-t.x),i=Math.abs(t.gravityRadius*Math.cos(n));i=this.x>t.x?i:-i;var r=Math.abs(t.gravityRadius*Math.sin(n));r=this.y>t.y?r:-r,this.vx+=i*e,this.vy+=r*e,this.x+=this.vx*e,this.y+=this.vy*e}},{key:"render",value:function(){var t=this;u["default"].ctx.beginPath(),u["default"].ctx.fillStyle=t.color,u["default"].ctx.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),u["default"].ctx.fill()}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){j=[];for(var e=0;e<t;e++){var n=Math.random()*y["default"].width+y["default"].width,i=Math.random()*y["default"].height;j.push(new g["default"]({x:n,y:i}))}}function o(){var t=Math.random()*y["default"].width+y["default"].width,e=-Math.random()*y["default"].height,n=(1*Math.random()+1,["shield","gravity","time","minimize","life",""][Math.floor(5*Math.random())]);M=new b["default"]({x:t,y:e,type:n})}function a(t,e){var n=e.x-t.x,i=e.y-t.y;return e.hasGravity?Math.hypot(n,i)<e.gravityRadius+t.radius:e.hasShield?Math.hypot(n,i)<e.shieldRadius+t.radius:Math.hypot(n,i)<e.radius+t.radius}function s(){L=0,S=0,clearTimeout(T);var t=function e(){T=setTimeout(function(){if(L=+N.innerText+1,N.innerText=L,L%10===0){S++,X.innerText=S;for(var t=0;t<j.length;t++)j[t].speedUp()}clearTimeout(T),e()},1e3)};t()}function l(){y["default"].render();for(var t=0;t<j.length;t++)j[t].render(),j[t].update(),!E.dead&&a(j[t],E)&&(E.hasGravity&&j[t].escape(E),t!==W&&(0===E.lives&&(E.destroy(),c()),E.collision(j[t].x,j[t].y),E.hasShield&&(j.splice(t,1),j.push(new g["default"]({x:Math.random()*y["default"].width+y["default"].width,y:Math.random()*y["default"].height}))),W=t),U=!0);a(M,E)&&(M.isEated||M.id===H||(E.setSkill(M.type),H=M.id,M.use()),U=!0),(E.x<0||E.x>y["default"].width||E.y<0||E.y>y["default"].height)&&(E.dead||c(),E.destroy()),U?U=!1:(W=null,H=null),M.render(),M.update(),E.render(),Y(l)}function u(){r(P),E=new w["default"]({x:y["default"].width/5,y:.6*y["default"].height,enemys:j}),o()}function c(){D.style.display="none",G.style.display="block";for(var t=L+"",e="",n=0;n<t.length;n++)e+='<span class="num-'+t[n]+'"></span>';document.getElementById("score-date").innerHTML=e}function d(){r(P),function t(){if(!$){y["default"].render();for(var e=0;e<j.length;e++)j[e].render(),j[e].update();Y(t)}}()}function h(){F.style.display="none",z.style.display="block",D.style.display="block",G.style.display="none",$=!0,N.innerText="0",X.innerText="0",u(),s()}function f(){d(),R.classList.add("active"),B.classList.add("active"),I.addEventListener("click",function(){h(),l()}),I.addEventListener("touchstart",function(){h(),l()}),C.addEventListener("click",function(){console.log(document.getElementById("legend").style),document.getElementById("legend").style.opacity="1"==document.getElementById("legend").style.opacity?"0":"1"}),A.addEventListener("click",function(){return h()}),A.addEventListener("touchstart",function(){return h()})}n(12);var v=n(1),y=i(v),p=n(3),g=i(p),m=n(8),b=i(m),x=n(7),w=i(x),_=n(9),k=i(_),O=n(10),P=30,E=void 0,j=[],M=void 0,L=0,S=0,T=void 0,I=document.getElementById("start-button"),C=document.getElementById("help-button"),R=document.getElementById("game-title"),B=document.getElementById("game-btn"),A=document.getElementById("restart"),F=document.getElementById("introduction"),z=document.getElementById("game"),D=document.getElementById("game-panel"),G=document.getElementById("game-over"),N=document.getElementById("time"),X=document.getElementById("level"),Y=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},q=document.getElementById("world");q.width=window.innerWidth,q.height=window.innerHeight,y["default"].init({canvas:q,width:window.innerWidth,height:window.innerHeight});var W,H,U=!1,$=!1,J=0;!function V(){(0,O.draw)(J),O.loadingFinish||Y(V)}();var K=new k["default"];K.load([{src:"assets/images/number.png"},{src:"assets/images/over.png"},{src:"assets/images/sprites.png"}],function(){f()});var Q=0;K.on("load",function(t){++Q,J=Q/3})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,n=a,i=!0,s=u=void 0}},l=n(1),u=i(l),c=n(2),d=i(c),h=function(t){function e(t){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.dead=!1}return o(e,t),a(e,[{key:"render",value:function(t){var e=this;this.dead||(u["default"].ctx.beginPath(),u["default"].ctx.fillStyle=e.color,u["default"].ctx.arc(t.x,t.y,3,0,2*Math.PI,!1),u["default"].ctx.fill())}}]),e}(d["default"]);e["default"]=h,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),s=i(a),l=Math.random,u=function(){function t(e){r(this,t),this.x=e.x,this.y=e.y,this.vx=-2+4*l(),this.vy=-2+4*l(),this.destroy=!1,this.speed=.04,this.size=e.size||2,this.color=e.color||"rgb(30,136,168)",this.width=this.size+2*l(),this.height=this.size+2*l()}return o(t,[{key:"update",value:function(){this.x+=this.vx,this.y+=this.vy,this.width-=this.speed,this.height-=this.speed,this.width<0&&(this.destroy=!0)}},{key:"render",value:function(){s["default"].ctx.fillStyle=this.color,s["default"].ctx.fillRect(this.x,this.y,this.width,this.height)}}]),t}();e["default"]=u,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return t.some(function(t){return e.match(t)})}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,n=a,i=!0,s=u=void 0}},u=n(2),c=i(u),d=n(1),h=i(d),f=n(5),v=i(f),y=n(6),p=i(y),g=["android","webos","iphone","ipad","ipod","blackberry","windows phone","mobile"],m=navigator.userAgent.toLowerCase(),b=a(g,m),x="rgb(30,136,168)",w=2,_=1,k=function(t){function e(t){r(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.enemys=t.enemys,this.color=t.color||x,this.radius=5,this.lives=t.lives||2,this.livesPoint=[],this.tail=[],this.tailLen=25,this.skill=null,this.shieldRadius=20,this.shieldColor="rgba(30,136,168,0.6)",this.gravityRadius=80,this.gravityTime=500,this.particleCount=30,this.particles=[],this.addScore=[],this.binding(),this.initLife()}return o(e,t),s(e,[{key:"binding",value:function(){var t=this;b?(t.moveTo(t.x,t.y),window.addEventListener("touchstart",function(e){e.preventDefault(),t.touchStartX=e.touches[0].pageX,t.touchStartY=e.touches[0].pageY}),window.addEventListener("touchmove",function(e){e.preventDefault();var n=e.touches[0].pageX-t.touchStartX,i=e.touches[0].pageY-t.touchStartY;t.moveTo(t.x+n,t.y+i),t.touchStartX=e.touches[0].pageX,t.touchStartY=e.touches[0].pageY})):window.addEventListener("mousemove",function(){var e=arguments.length<=0||void 0===arguments[0]?window.event:arguments[0];t.moveTo(e.clientX-10,e.clientY-30)})}},{key:"moveTo",value:function(t,e){this.x=t,this.y=e}},{key:"boom",value:function(t,e,n,i){for(var r=this,o=[],a=0;a<r.particleCount;a++)o.push(new p["default"]({x:t,y:e,color:n,size:i}));r.particles.push(o)}},{key:"collision",value:function(t,e){if(this.hasShield){this.boom(t||this.x,e||this.y,"red"),this.addScore.push({x:t,y:e,opacity:1});var n=document.getElementById("time").innerText;document.getElementById("time").innerText=+n+w}else this.hasGravity||(this.minusLife(),this.boom(this.x,this.y),this.flash())}},{key:"initLife",value:function(){this.livesPoint=[];for(var t=0;t<this.lives;t++)this.livesPoint.push(new v["default"]({}))}},{key:"addLife",value:function(){this.lives++,this.livesPoint.length<this.lives?this.livesPoint.push(new v["default"]({})):this.livesPoint[this.lives-1].dead=!1,this.changeTailLen()}},{key:"minusLife",value:function(){if(this.lives>0){var t=this.livesPoint[this.lives-1];t.dead=!0,this.lives--}else this.destroy();this.changeTailLen()}},{key:"changeTailLen",value:function(){this.lives>2?this.tailLen=25+5*(this.lives-2):this.tailLen=25}},{key:"flash",value:function(){var t=this;t.flashing=!0;var e=setTimeout(function(){t.flashing=!1,t.color=x,clearTimeout(e)},500)}},{key:"destroy",value:function(){this.dead=!0,this.lives=-1}},{key:"setSkill",value:function(t){var e=this;switch(e.skill=t,e.skill){case"time":e.enemys&&!function(){for(var t=0;t<e.enemys.length;t++)e.enemys[t].speedDown();var n=setTimeout(function(){for(var t=0;t<e.enemys.length;t++)e.enemys[t].speedUp(.8);clearTimeout(n)},8e3)}();break;case"minimize":e.enemys&&!function(){for(var t=0;t<e.enemys.length;t++)e.enemys[t].minimize();var n=setTimeout(function(){for(var t=0;t<e.enemys.length;t++)e.enemys[t].magnify();clearTimeout(n)},8e3)}();break;case"life":e.addLife();break;case"shield":e.hasShield=!0;break;case"gravity":e.hasGravity=!0,e["break"]}}},{key:"recordTail",value:function(){var t=this;t.tail.length>t.tailLen&&t.tail.splice(0,t.tail.length-t.tailLen),t.tail.push({x:t.x,y:t.y})}},{key:"render",value:function(){var t=this;t.dead||(h["default"].ctx.beginPath(),t.flashing&&(t.color=["#fff",x][Math.round(Math.random())]),h["default"].ctx.fillStyle=t.color,h["default"].ctx.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),h["default"].ctx.fill(),_%2&&t.recordTail(),_++,t.tail.length>t.tailLen-10&&t.renderTail(),t.hasShield&&t.renderShield(),t.hasGravity&&t.renderGravity(),t.addScore.length&&t.renderAddScore()),t.particles.length&&t.renderBoom()}},{key:"renderTail",value:function(){var t=this,e=t.tail,n=void 0,i=void 0;h["default"].ctx.beginPath(),h["default"].ctx.lineWidth=2,h["default"].ctx.strokeStyle=t.color;for(var r=0;r<e.length-1;r++)n=e[r],i=e[r+1],0===r?h["default"].ctx.moveTo(n.x,n.y):h["default"].ctx.quadraticCurveTo(n.x,n.y,n.x+(i.x-n.x)/2,n.y+(i.y-n.y)/2),n.x-=1.5,n.y+=1.5;h["default"].ctx.stroke(),t.renderLife()}},{key:"renderLife",value:function(){for(var t=this,e=1;e<=t.livesPoint.length;e++){var n=5*e,i=t.livesPoint[e-1];i.render(t.tail[n])}}},{key:"renderShield",value:function(){h["default"].ctx.beginPath(),h["default"].ctx.globalCompositeOperation="source-over",h["default"].ctx.fillStyle=this.shieldColor,h["default"].ctx.arc(this.x,this.y,this.shieldRadius,0,2*Math.PI,!1),h["default"].ctx.fill(),h["default"].lineWidth=.2,h["default"].ctx.strokeStyle="#5DAC81",h["default"].ctx.arc(this.x,this.y,this.shieldRadius,0,2*Math.PI,!1),h["default"].ctx.stroke(),this.shieldRadius-=.02,this.shieldRadius<15&&(this.shieldColor="rgba(30,136,168,0.6)"===this.shieldColor?"rgba(30,136,168,0.2)":"rgba(30,136,168,0.6)"),this.shieldRadius<10&&(this.hasShield=!1,this.shieldColor="rgba(30,136,168,0.6)",this.shieldRadius=25)}},{key:"renderGravity",value:function(){h["default"].ctx.beginPath(),h["default"].ctx.globalCompositeOperation="source-over";var t=h["default"].ctx.createRadialGradient(this.x,this.y,this.radius,this.x,this.y,this.gravityRadius);t.addColorStop(0,"rgba(30,136,168,0.8)"),t.addColorStop(1,"rgba(30,136,168,0)"),h["default"].ctx.fillStyle=t,h["default"].ctx.arc(this.x,this.y,this.gravityRadius,0,2*Math.PI,!1),h["default"].ctx.fill(),this.gravityTime--<0&&(this.hasGravity=!1,this.gravityTime=500)}},{key:"renderBoom",value:function(){for(var t=0;t<this.particles.length;t++)for(var e=this.particles[t],n=0;n<e.length;n++)e[n].destroy?e.splice(n,1):(e[n].render(),e[n].update())}},{key:"renderAddScore",value:function(){for(var t=0;t<this.addScore.length;t++){var e=this.addScore[t];h["default"].ctx.fillStyle="rgba(255,255,255,"+e.opacity+")",h["default"].ctx.fillText("+"+w,e.x+40,e.y-30),e.opacity-=.02,e.opacity<0&&this.addScore.splice(t,1)}}}]),e}(c["default"]);e["default"]=k,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,n=a,i=!0,s=u=void 0}},l=n(3),u=i(l),c=n(1),d=i(c),h={shield:"#007766",gravity:"#225599",time:"#665599",minimize:"#acac00",life:"#009955"},f={shield:"盾",gravity:"力",time:"慢",minimize:"小",life:"命"},v=function(t){function e(t){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.id=1,this.radius=9,this.isEated=!1}return o(e,t),a(e,[{key:"update",value:function(){this.x-=this.speed,this.y+=this.speed,(this.x<-10||this.y>d["default"].height+10)&&(this.x=Math.random()*d["default"].width+d["default"].width,this.y=-Math.random()*d["default"].height,this.reset())}},{key:"reset",value:function(){this.id++,this.radius=9,this.isEated=!1,this.type=["shield","gravity","time","minimize","life",""][Math.floor(5*Math.random())]}},{key:"use",value:function(){this.isEated=!0,this.radius=0}},{key:"render",value:function(){var t=this;d["default"].ctx.beginPath(),t.color=h[t.type],d["default"].ctx.fillStyle=t.color,d["default"].ctx.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),d["default"].ctx.fill(),t.isEated||(d["default"].ctx.fillStyle="#fff",d["default"].ctx.fillText(f[t.type],t.x-5,t.y+2))}}]),e}(u["default"]);e["default"]=v,t.exports=e["default"]},function(t,n,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t){var e,n,i=/\/?[^/]+\.(\w+)(\?\S+)?$/i;return(e=t.match(i))&&(n=e[1].toLowerCase()),n||null}Object.defineProperty(n,"__esModule",{value:!0});var l=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,n=a,i=!0,s=u=void 0}},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=i(11),d=r(c),h=function(){function t(){a(this,t)}return u(t,[{key:"load",value:function(t){var e=this,n=new Image;t.crossOrigin&&(n.crossOrigin=t.crossOrigin),n.onload=function(){e.onLoad(n)},n.onerror=n.onabort=e.onError.bind(n),n.src=t.src}},{key:"onLoad",value:function(t){t=t||window.event;var e=t;return e.onload=e.onerror=e.onabort=null,e}},{key:"onError",value:function(){var t=e.target;return t.onload=t.onerror=t.onabort=null,e}}]),t}(),f=function(){function t(){a(this,t)}return u(t,[{key:"load",value:function(e){var n=this,i=e.src,r="jsonp"==e.type;if(r){var o=e.callbackName||"callback",a=e.callback||"jsonp"+ ++t._count,s=window;s[a]||(s[a]=function(t){delete s[a]})}r&&(i+=(i.indexOf("?")==-1?"?":"&")+o+"="+a),e.noCache&&(i+=(i.indexOf("?")==-1?"?":"&")+"t="+ +new Date);var l=document.createElement("script");l.type="text/javascript",l.async=!0,l.onload=n.onLoad.bind(n),l.onerror=n.onError.bind(n),l.src=i,e.id&&(l.id=e.id),document.getElementsByTagName("head")[0].appendChild(l)}},{key:"onLoad",value:function(t){var e=t.target;return e.onload=e.onerror=null,e}},{key:"onError",value:function(t){var e=t.target;return e.onload=e.onerror=null,t}}]),t}(),v=function(){function t(){a(this,t)}return u(t,[{key:"load",value:function(t){var e=document.createElement("link");e.type="text/css",e.rel="stylesheet",t.id&&(e.id=t.id),e.addEventListener("load",this.onLoad.bind(this),!1),e.addEventListener("error",this.onError.bind(this),!1),e.href=t.src,document.getElementsByTagName("head")[0].appendChild(e)}},{key:"onLoad",value:function(t){return t.target}},{key:"onError",value:function(t){return t}}]),t}(),y=function(t){function e(t){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this._source=[],this._loaded=0,this._currentIndex=-1,this._completeCb=null}return o(e,t),u(e,[{key:"load",value:function(t,e){return t&&(t=t instanceof Array?t:[t],this._source=this._source.concat(t)),e&&e instanceof Function&&this.on("complete",e),this._loadNext(),this}},{key:"_loadNext",value:function(){var t=this,e=t._source,n=e.length;return t._loaded>=n?void t.emit("complete"):void(t._currentIndex<n-1&&!function(){++t._currentIndex;var n=t._currentIndex,i=e[n],r=t._getLoader(i);r&&!function(){var e=r.onLoad,i=r.onError;r.onLoad=function(o){r.onLoad=e,r.onError=i;var a=e&&e.call(r,o)||o.target;t._onItemLoad(n,a)},r.onError=function(o){r.onLoad=e,r.onError=i,i&&i.call(r,o),t._onItemError(n,o)}}(),r&&r.load(i),t._loadNext()}())}},{key:"_getLoader",value:function(t){var e=t.loader;if(e)return e;var n=t.type||s(t.src);switch(n){case"png":case"jpg":case"jpeg":case"gif":e=new h;break;case"js":case"jsonp":e=new f;break;case"css":e=new v}return e}},{key:"_onItemLoad",value:function(t,e){var n=this,i=n._source[t];i.loaded=!0,i.content=e,n._loaded++,n.emit("load",i),n._loadNext()}},{key:"_onItemError",value:function(t,e){var n=this,i=n._source[t];i.error=e,n._loaded++,n.emit("error",i),n._loadNext()}}]),e}(d["default"]);n["default"]=y,t.exports=n["default"]},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){l.fillStyle="#000",l.fillRect(0,0,u,c),l.fillStyle="#171814",l.fillRect(p,g,d,h)}function r(){for(var t=0;t<v.length;t++){var e=v[t];e.x-=e.vx,1==e.down?(e.g+=.1,e.y+=e.g):e.g<0?(e.down=!0,e.g+=.1,e.y+=e.g):(e.y-=e.g,e.g-=.1),e.draw()}}function o(t){i(),f++,_.hue+=.8;var n=_.total*t;if(_.width<n&&(_.width+=2,console.log("a")),_.width>=_.total)f>215?(i(),_.hue=0,_.width=0,f=0,v=[]):(_.hue=126,_.width=_.total+1,_.draw()),m.style.display="block",b.style.display="none",e.loadingFinish=k=!0;else{_.draw();for(var o=0;o<y;o+=10)v.push(new w)}r()}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.draw=o;var s=document.getElementById("loading"),l=s.getContext("2d"),u=window.innerWidth,c=window.innerHeight;s.width=u,s.height=c;var d=200,h=5,f=0,v=[],y=25,p=(u-d)/2,g=(c-h)/2,m=document.getElementById("start-page"),b=document.getElementById("loading-page"),x=function(){function t(){n(this,t),this.total=d,this.width=0,this.hue=0}return a(t,[{key:"draw",value:function(){l.fillStyle="hsla("+this.hue+", 100%, 40%, 1)",l.fillRect(p,g,this.width,h);var t=l.createLinearGradient(0,0,0,130);t.addColorStop(0,"transparent"),t.addColorStop(1,"rgba(0,0,0,0.5)"),l.fillStyle=t,l.fillRect(p,g,this.width,h)}}]),t}(),w=function(){function t(){n(this,t),this.x=p+_.width,this.y=g,this.vx=.8+1*Math.random(),this.v=5*Math.random(),this.g=1+3*Math.random(),this.down=!1}return a(t,[{key:"draw",value:function(){l.fillStyle="hsla("+(_.hue+.3)+", 100%, 40%, 1)";var t=1*Math.random();l.fillRect(this.x,this.y,t,t)}}]),t}(),_=new x,k=!1;e.loadingFinish=k},function(t,e,n){"use strict";function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function r(){}var o=Object.prototype.hasOwnProperty,a="function"!=typeof Object.create&&"~";r.prototype._events=void 0,r.prototype.eventNames=function(){var t,e=this._events,n=[];if(!e)return n;for(t in e)o.call(e,t)&&n.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},r.prototype.listeners=function(t,e){var n=a?a+t:t,i=this._events&&this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,s=new Array(o);r<o;r++)s[r]=i[r].fn;return s},r.prototype.emit=function(t,e,n,i,r,o){var s=a?a+t:t;if(!this._events||!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if("function"==typeof c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,r),!0;case 6:return c.fn.call(c.context,e,n,i,r,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},r.prototype.on=function(t,e,n){var r=new i(e,n||this),o=a?a+t:t;return this._events||(this._events=a?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):this._events[o]=r,this},r.prototype.once=function(t,e,n){var r=new i(e,n||this,(!0)),o=a?a+t:t;return this._events||(this._events=a?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):this._events[o]=r,this},r.prototype.removeListener=function(t,e,n,i){var r=a?a+t:t;if(!this._events||!this._events[r])return this;var o=this._events[r],s=[];if(e)if(o.fn)(o.fn!==e||i&&!o.once||n&&o.context!==n)&&s.push(o);else for(var l=0,u=o.length;l<u;l++)(o[l].fn!==e||i&&!o[l].once||n&&o[l].context!==n)&&s.push(o[l]);return s.length?this._events[r]=1===s.length?s[0]:s:delete this._events[r],this},r.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[a?a+t:t]:this._events=a?{}:Object.create(null),this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=a,t.exports=r},function(t,e){}]);