/**
 * Zepto sortable 0.0.1
 * Copyright 2016, https://github.com/fwon
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Desctiption:
 *   Avaliable for both pc and mobile
 * Depends:
 *   zepto.js
 */
!function(a){a.fn.sortable=function(b){function o(){e=a(g);for(var b=0,c=e.length;c>b;b++){var h=a(e[b]),i=h.position().left,j=h.position().top;d.push({left:i,top:j}),h.addClass(f+"-"+b),h.attr("data-pos",b)}}function p(){e=a(g);for(var b=0,c=e.length;c>b;b++){var f=a(e[b]),h=d[b];f.css({position:"absolute",left:h.left,top:h.top})}}function q(){a(g).css({position:"static",left:"",top:""})}function r(a,b){var c=a.data("pos"),d=b.data("pos");a.data("pos",d),b.data("pos",c),a.removeClass(f+"-"+c).addClass(f+"-"+d),b.removeClass(f+"-"+d).addClass(f+"-"+c),+c>+d?b.insertAfter(a):b.insertBefore(a)}var c={orient:null,itemClassName:"cont"};if(b=a.extend(c,b),b.orient){var e,h,i,d=[],f=b.itemClassName,g=this.selector+" ."+f,j=null,k=null,l="vertical"===b.orient,m=a(g).first(),n=a(a(g).get(1));if(m&&n){i=m.position().top,k=n.position().top-i,h=m.position().left,j=n.position().left-h,o();var s,t,u;a(g).on("touchstart mousedown",function(b){b.preventDefault(),b.stopPropagation(),s=a(b.target),t=+s.data("pos"),p()}),a(g).on("touchmove mousemove",function(b){if(b.preventDefault(),b.stopPropagation(),!s)return!1;var c=null;if("touchmove"===b.type?b.touches&&1===b.touches.length&&(c=b.touches[0]):"mousemove"===b.type&&(c={pageX:b.pageX,pageY:b.pageY}),!c)return!1;if(l?s.css({top:c.pageY-k/2}):s.css({left:c.pageX-j/2}),u=l?Math.floor((c.pageY-i)/k):Math.floor((c.pageX-h)/j),0>u&&(u=0),u>=e.length&&(u=e.length-1),t!==u){var f=a(g+"-"+u);f.css({left:d[t].left,top:d[t].top}),r(s,f),t=u}}),a(g).on("touchend mouseup",function(a){return u+1?(s.css({left:d[u].left,top:d[u].top}),s=null,void q()):(s=null,!1)})}}}}(Zepto);